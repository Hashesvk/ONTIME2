<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

	<head>
	
		<meta charset="UTF-8"></meta>
		<title>Notificaciones</title>
		
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="/css/bootstrap.min.css">
<link rel="stylesheet" href="/css/dive.css">
<link rel="stylesheet" href="/css/style.css">
<link href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css" rel="stylesheet"/>
	
</head>

	<body>
    	<div th:replace="fragments/sidebar :: sidebar" id="panel"
		class="activepanel"></div>
		<div class="bg row">
			<div th:replace="fragments/nav :: nav" class="row topbar col-lg-12"></div>
			<div class="container">
    		<form id="myform">
    			<div class="row clearfix">
    				<div class="col-md-12 column">
    					
						<button style="margin-bottom: 15px; margin-right: 10px" type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModalLong">
						  +Agregar Notificacion
						</button>	    			
    					
						<a 	style="border-bottom-color: green; margin-bottom: 15px" th:href="@{/notificacion/irBuscar}"
    						id="add-row" type="button" class="btn btn-primary btn-md left-block">
    						<span class="glyphicon glyphicon-search"></span> Buscar
    					</a>
    					
    					<table class="table table-bordered table-hover table-striped" id="tab_logic">
    						<thead>
    							<tr>
    								<th class="text-center">Codigo</th>
    								<th class="text-center">Nombre</th>
    								<th class="text-center">Descripcion</th>
    								<th class="text-center">Evento</th>
    								<th class="text-center">Operacion 01</th>
    								<th class="text-center">Operacion 02</th>
    							</tr>
    						</thead>
    						<tbody>
    							<tr th:each="notificacion: ${listaNotificaciones}">
    								<td class="text-center" th:text="${notificacion.idNotificacion}"></td>
    								<td class="text-center" th:text="${notificacion.nameNotificacion}"></td>
    								<td class="text-center" th:text="${notificacion.descriptionNotificacion}"></td>
    								<td class="text-center" th:text="${notificacion.evento.nombreEvento}"></td>
    								<td class="text-center"><a th:href="@{/notificacion/eliminar?id=}+${notificacion.idNotificacion}">Eliminar</a></td>    								
    								<td class="text-center"><a th:href="@{'/notificacion/modificar/'}+${notificacion.idNotificacion}">Modificar</a></td>
    							</tr>
    						</tbody>
    					</table> 
    					
    				</div>
    			</div>
    			<div th:if="${mensaje}" class="alert alert-danger">
    				<p th:text="${mensaje}"></p>
    			</div>
    		</form>
    	</div>
			<div class="modal fade" id="exampleModalLong" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
					  <div class="modal-dialog" role="document">
					    <div class="modal-content">
					      <div class="modal-header">
					        <h5 class="modal-title" id="exampleModalLongTitle">Modal title</h5>
					        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
					          <span aria-hidden="true">&times;</span>
					        </button>
					      </div>
					      <div class="modal-body">
			      	  
							<form th:action="@{/notificacion/registrar}" method="post" th:object="${notificacion}">
			    			<div class="form-group">
	    			    			
			    				<label for="id">ID:</label>
			    				<input type="text" class="form-control" th:field="*{idNotificacion}"></input>
			    				
			    				<div class="form-group">
			    					<label for="nombre">Nombre:</label>
			    					<input type="text" class="form-control" th:field="*{nameNotificacion}" id="nombre"></input>
			
									<div 	class="alert alert-danger" th:if="${#fields.hasErrors('nameNotificacion')}" 
											th:errors="*{nameNotificacion}">
									</div>    					
			    				</div>
			
			    				<div class="form-group">
			    					<label for="descripcion">Descripcion:</label>
			    					<input type="text" class="form-control" th:field="*{descriptionNotificacion}" id="descripcion"></input>
			
									<div 	class="alert alert-danger" th:if="${#fields.hasErrors('descriptionNotificacion')}" 
											th:errors="*{descriptionNotificacion}">
									</div>    					
			    				</div>
			    				
			    				<div class="form-group">
			    					<label for="evento">Evento:</label> 
			    					<select class="form-control" th:field="*{evento.idEvento}">
										<option th:each="e: ${listaEventos}"
												th:value="${e.idEvento}" th:text="${e.nombreEvento}"
												th:selected="(${e.idEvento} == *{evento.idEvento})">
										</option>
									</select>
								</div>    
			 				
			    			</div>
			    			<button type="submit" class="btn btn-primary">Aceptar</button>
			    			<a href="/notificacion/listar" class="btn btn-danger">Cancelar</a>
			    		</form>        
			        
			      </div>
			      </div>
			    </div>
			  </div>
	</div>
    	
    	
	<script src="/js/popper.min.js"></script>
	<script src="/js/jquery-3.3.1.slim.min.js"></script>
	<script src="/js/bootstrap.min.js"></script>
	<script src="/js/dive.js"></script>
	<script src="/js/app2.js"></script>
	</body>

</html>